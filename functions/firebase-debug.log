[debug] [2023-05-20T20:10:18.749Z] ----------------------------------------------------------------------
[debug] [2023-05-20T20:10:18.750Z] Command:       C:\Program Files\nodejs\node.exe C:\Program Files\nodejs\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2023-05-20T20:10:18.751Z] CLI Version:   12.1.0
[debug] [2023-05-20T20:10:18.751Z] Platform:      win32
[debug] [2023-05-20T20:10:18.751Z] Node Version:  v18.15.0
[debug] [2023-05-20T20:10:18.752Z] Time:          Sun May 21 2023 01:40:18 GMT+0530 (India Standard Time)
[debug] [2023-05-20T20:10:18.752Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-05-20T20:10:18.814Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-05-20T20:10:18.816Z] > authorizing via signed-in user (amankumar.spj410@gmail.com)
[debug] [2023-05-20T20:10:18.816Z] [iam] checking project bigo-3ac05 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-05-20T20:10:18.818Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/bigo-3ac05:testIamPermissions [none]
[debug] [2023-05-20T20:10:18.818Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/bigo-3ac05:testIamPermissions x-goog-quota-user=projects/bigo-3ac05
[debug] [2023-05-20T20:10:18.819Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/bigo-3ac05:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-05-20T20:10:20.372Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/bigo-3ac05:testIamPermissions 200
[debug] [2023-05-20T20:10:20.372Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/bigo-3ac05:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-05-20T20:10:20.372Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/bigo-3ac05/serviceAccounts/bigo-3ac05@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-05-20T20:10:20.373Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/bigo-3ac05/serviceAccounts/bigo-3ac05@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-05-20T20:10:20.905Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/bigo-3ac05/serviceAccounts/bigo-3ac05@appspot.gserviceaccount.com:testIamPermissions 404
[debug] [2023-05-20T20:10:20.905Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/bigo-3ac05/serviceAccounts/bigo-3ac05@appspot.gserviceaccount.com:testIamPermissions {"error":{"code":404,"message":"Unknown service account","status":"NOT_FOUND"}}
[debug] [2023-05-20T20:10:20.906Z] [functions] service account IAM check errored, deploy may fail: HTTP Error: 404, Unknown service account {"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":404,"message":"Unknown service account","status":"NOT_FOUND"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Unknown service account","status":404}
[info] 
[info] === Deploying to 'bigo-3ac05'...
[info] 
[info] i  deploying functions 
[debug] [2023-05-20T20:10:20.911Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/bigo-3ac05 [none]
[debug] [2023-05-20T20:10:21.650Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/bigo-3ac05 200
[debug] [2023-05-20T20:10:21.650Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/bigo-3ac05 {"projectId":"bigo-3ac05","projectNumber":"634722587603","displayName":"bigO","name":"projects/bigo-3ac05","resources":{"hostingSite":"bigo-3ac05"},"state":"ACTIVE","etag":"1_256499c6-9c46-43cd-8c3f-2389d7e0912f"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-05-20T20:10:21.654Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/cloudfunctions.googleapis.com [none]
[debug] [2023-05-20T20:10:21.654Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/bigo-3ac05
[debug] [2023-05-20T20:10:21.655Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/runtimeconfig.googleapis.com [none]
[debug] [2023-05-20T20:10:21.656Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/bigo-3ac05
[debug] [2023-05-20T20:10:21.657Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/cloudbuild.googleapis.com [none]
[debug] [2023-05-20T20:10:21.657Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/cloudbuild.googleapis.com x-goog-quota-user=projects/bigo-3ac05
[debug] [2023-05-20T20:10:21.659Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/artifactregistry.googleapis.com [none]
[debug] [2023-05-20T20:10:21.659Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/artifactregistry.googleapis.com x-goog-quota-user=projects/bigo-3ac05
[debug] [2023-05-20T20:10:23.547Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/runtimeconfig.googleapis.com 200
[debug] [2023-05-20T20:10:23.548Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-05-20T20:10:23.548Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/artifactregistry.googleapis.com 200
[debug] [2023-05-20T20:10:23.548Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/artifactregistry.googleapis.com [omitted]
[warn] !  artifactregistry: missing required API artifactregistry.googleapis.com. Enabling now... 
[debug] [2023-05-20T20:10:23.549Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/artifactregistry.googleapis.com:enable [none]
[debug] [2023-05-20T20:10:23.549Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/artifactregistry.googleapis.com:enable x-goog-quota-user=projects/bigo-3ac05
[debug] [2023-05-20T20:10:23.554Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/cloudfunctions.googleapis.com 200
[debug] [2023-05-20T20:10:23.554Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-05-20T20:10:23.563Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/cloudbuild.googleapis.com 200
[debug] [2023-05-20T20:10:23.563Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/cloudbuild.googleapis.com [omitted]
[warn] !  functions: missing required API cloudbuild.googleapis.com. Enabling now... 
[debug] [2023-05-20T20:10:23.564Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/cloudbuild.googleapis.com:enable [none]
[debug] [2023-05-20T20:10:23.564Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/cloudbuild.googleapis.com:enable x-goog-quota-user=projects/bigo-3ac05
[debug] [2023-05-20T20:10:25.583Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/cloudbuild.googleapis.com:enable 200
[debug] [2023-05-20T20:10:25.583Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/cloudbuild.googleapis.com:enable [omitted]
[debug] [2023-05-20T20:10:25.599Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/artifactregistry.googleapis.com:enable 200
[debug] [2023-05-20T20:10:25.599Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/artifactregistry.googleapis.com:enable [omitted]
[debug] [2023-05-20T20:10:35.596Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/cloudbuild.googleapis.com [none]
[debug] [2023-05-20T20:10:35.597Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/cloudbuild.googleapis.com x-goog-quota-user=projects/bigo-3ac05
[debug] [2023-05-20T20:10:35.600Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/artifactregistry.googleapis.com [none]
[debug] [2023-05-20T20:10:35.600Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/artifactregistry.googleapis.com x-goog-quota-user=projects/bigo-3ac05
[debug] [2023-05-20T20:10:37.443Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/artifactregistry.googleapis.com 200
[debug] [2023-05-20T20:10:37.443Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-05-20T20:10:37.489Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/cloudbuild.googleapis.com 200
[debug] [2023-05-20T20:10:37.489Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-05-20T20:10:37.490Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/bigo-3ac05/adminSdkConfig [none]
[debug] [2023-05-20T20:10:38.201Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/bigo-3ac05/adminSdkConfig 200
[debug] [2023-05-20T20:10:38.201Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/bigo-3ac05/adminSdkConfig {"projectId":"bigo-3ac05","storageBucket":"bigo-3ac05.appspot.com"}
[debug] [2023-05-20T20:10:38.202Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bigo-3ac05/configs [none]
[debug] [2023-05-20T20:10:38.769Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bigo-3ac05/configs 200
[debug] [2023-05-20T20:10:38.769Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bigo-3ac05/configs {}
[debug] [2023-05-20T20:10:38.771Z] Validating nodejs source
[debug] [2023-05-20T20:10:40.137Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "googleapis": "^118.0.0",
    "nodemailer": "^6.9.2"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-20T20:10:40.137Z] Building nodejs source
[debug] [2023-05-20T20:10:40.138Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-20T20:10:40.143Z] Found firebase-functions binary at 'C:\aman\BigOWebsite\functions\node_modules\.bin\firebase-functions'
[debug] [2023-05-20T20:10:40.314Z] Serving at port 8787

[debug] [2023-05-20T20:10:41.280Z] Error: No refresh token or refresh handler callback is set.
    at OAuth2Client.getAccessTokenAsync (C:\aman\BigOWebsite\functions\node_modules\google-auth-library\build\src\auth\oauth2client.js:238:27)
    at OAuth2Client.getAccessToken (C:\aman\BigOWebsite\functions\node_modules\google-auth-library\build\src\auth\oauth2client.js:223:25)
    at Object.<anonymous> (C:\aman\BigOWebsite\functions\index.js:24:14)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at loadModule (C:\aman\BigOWebsite\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2023-05-20T20:10:41.284Z] Got response from /__/functions.yaml {"endpoints":{"sendMail":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"sendMail"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-20T20:10:41.300Z] shutdown requested via /__/quitquitquit

[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\aman\BigOWebsite\functions (66.29 KB) for uploading 
[debug] [2023-05-20T20:10:41.365Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/bigo-3ac05/locations/-/functions [none]
[debug] [2023-05-20T20:10:42.149Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/bigo-3ac05/locations/-/functions 200
[debug] [2023-05-20T20:10:42.150Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/bigo-3ac05/locations/-/functions {}
[debug] [2023-05-20T20:10:42.150Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bigo-3ac05/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2023-05-20T20:10:43.961Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bigo-3ac05/locations/-/functions 200
[debug] [2023-05-20T20:10:43.961Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bigo-3ac05/locations/-/functions {}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2023-05-20T20:10:43.966Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/run.googleapis.com [none]
[debug] [2023-05-20T20:10:43.966Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/run.googleapis.com x-goog-quota-user=projects/bigo-3ac05
[debug] [2023-05-20T20:10:43.970Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/eventarc.googleapis.com [none]
[debug] [2023-05-20T20:10:43.970Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/eventarc.googleapis.com x-goog-quota-user=projects/bigo-3ac05
[debug] [2023-05-20T20:10:43.971Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/pubsub.googleapis.com [none]
[debug] [2023-05-20T20:10:43.971Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/pubsub.googleapis.com x-goog-quota-user=projects/bigo-3ac05
[debug] [2023-05-20T20:10:43.972Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/storage.googleapis.com [none]
[debug] [2023-05-20T20:10:43.972Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/storage.googleapis.com x-goog-quota-user=projects/bigo-3ac05
[debug] [2023-05-20T20:10:45.784Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/eventarc.googleapis.com 200
[debug] [2023-05-20T20:10:45.784Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/eventarc.googleapis.com [omitted]
[warn] !  functions: missing required API eventarc.googleapis.com. Enabling now... 
[debug] [2023-05-20T20:10:45.785Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/eventarc.googleapis.com:enable [none]
[debug] [2023-05-20T20:10:45.785Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/eventarc.googleapis.com:enable x-goog-quota-user=projects/bigo-3ac05
[debug] [2023-05-20T20:10:45.797Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/pubsub.googleapis.com 200
[debug] [2023-05-20T20:10:45.797Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/pubsub.googleapis.com [omitted]
[info] +  functions: required API pubsub.googleapis.com is enabled 
[debug] [2023-05-20T20:10:45.817Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/run.googleapis.com 200
[debug] [2023-05-20T20:10:45.817Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/run.googleapis.com [omitted]
[warn] !  functions: missing required API run.googleapis.com. Enabling now... 
[debug] [2023-05-20T20:10:45.818Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/run.googleapis.com:enable [none]
[debug] [2023-05-20T20:10:45.818Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/run.googleapis.com:enable x-goog-quota-user=projects/bigo-3ac05
[debug] [2023-05-20T20:10:45.850Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/storage.googleapis.com 200
[debug] [2023-05-20T20:10:45.850Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/storage.googleapis.com [omitted]
[info] +  functions: required API storage.googleapis.com is enabled 
[debug] [2023-05-20T20:10:47.829Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/eventarc.googleapis.com:enable 200
[debug] [2023-05-20T20:10:47.829Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/eventarc.googleapis.com:enable [omitted]
[debug] [2023-05-20T20:10:47.962Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/run.googleapis.com:enable 200
[debug] [2023-05-20T20:10:47.962Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/run.googleapis.com:enable [omitted]
[debug] [2023-05-20T20:10:57.841Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/eventarc.googleapis.com [none]
[debug] [2023-05-20T20:10:57.841Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/eventarc.googleapis.com x-goog-quota-user=projects/bigo-3ac05
[debug] [2023-05-20T20:10:57.975Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/run.googleapis.com [none]
[debug] [2023-05-20T20:10:57.975Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/run.googleapis.com x-goog-quota-user=projects/bigo-3ac05
[debug] [2023-05-20T20:10:59.680Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/eventarc.googleapis.com 200
[debug] [2023-05-20T20:10:59.681Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/eventarc.googleapis.com [omitted]
[info] +  functions: required API eventarc.googleapis.com is enabled 
[debug] [2023-05-20T20:10:59.795Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/run.googleapis.com 200
[debug] [2023-05-20T20:10:59.795Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/bigo-3ac05/services/run.googleapis.com [omitted]
[info] +  functions: required API run.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2023-05-20T20:10:59.797Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/634722587603/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2023-05-20T20:10:59.801Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/634722587603/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2023-05-20T20:11:01.844Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/634722587603/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2023-05-20T20:11:01.845Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/634722587603/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-634722587603@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"115420332547851415517"}}
[debug] [2023-05-20T20:11:01.940Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/634722587603/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2023-05-20T20:11:01.941Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/634722587603/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-634722587603@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"116472407998134961271"}}
[debug] [2023-05-20T20:11:01.943Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/bigo-3ac05 [none]
[debug] [2023-05-20T20:11:02.636Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/bigo-3ac05 200
[debug] [2023-05-20T20:11:02.637Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/bigo-3ac05 {"projectId":"bigo-3ac05","projectNumber":"634722587603","displayName":"bigO","name":"projects/bigo-3ac05","resources":{"hostingSite":"bigo-3ac05"},"state":"ACTIVE","etag":"1_256499c6-9c46-43cd-8c3f-2389d7e0912f"}
[debug] [2023-05-20T20:11:02.638Z] [functions] found 1 new HTTP functions, testing setIamPolicy permission...
[debug] [2023-05-20T20:11:02.638Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/bigo-3ac05:testIamPermissions [none]
[debug] [2023-05-20T20:11:02.638Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/bigo-3ac05:testIamPermissions x-goog-quota-user=projects/bigo-3ac05
[debug] [2023-05-20T20:11:02.638Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/bigo-3ac05:testIamPermissions {"permissions":["cloudfunctions.functions.setIamPolicy"]}
[debug] [2023-05-20T20:11:04.128Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/bigo-3ac05:testIamPermissions 200
[debug] [2023-05-20T20:11:04.129Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/bigo-3ac05:testIamPermissions {"permissions":["cloudfunctions.functions.setIamPolicy"]}
[debug] [2023-05-20T20:11:04.129Z] [functions] found setIamPolicy permission, proceeding with deploy
[debug] [2023-05-20T20:11:04.129Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/bigo-3ac05/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2023-05-20T20:11:07.422Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/bigo-3ac05/locations/us-central1/functions:generateUploadUrl 200
[debug] [2023-05-20T20:11:07.422Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/bigo-3ac05/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-634722587603-us-central1/d737643b-efee-4b6e-bfec-ce2452bfe481.zip?GoogleAccessId=service-634722587603@gcf-admin-robot.iam.gserviceaccount.com&Expires=1684615267&Signature=aRWEhmHKJkNiPdjWdnxo4jzGTChtYORVBfBTbhrztsEj%2FkR4e%2Fz%2FgXBYh6zifStcD4gF6aBbeoNW%2BFtD4FEqMNPxp5%2BDlPwajIdiRmnvaoVOiGZAgoaiAsC32ALP4SvZTBz%2BiV3ZZU4v11tGtDftiU4f%2FtV2lOeozAHmSYiszc2csOyqouAIS2f%2BT%2BCzXJXPI6jaaonbaT%2BshZIg1OWt3bALWL9a5igvbkXbhM1otOtx1h%2B2ZZbFE%2F%2F2BU%2BXf7fDuOInW5wlQ%2BX%2FdjmDBtnPrE6KFYViExJ1zk8mN%2BHrWcay7gwhtH3H41qnNJ0DudypbGAq%2FRzhNsmMW1VKEImyfg%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-634722587603-us-central1","object":"d737643b-efee-4b6e-bfec-ce2452bfe481.zip"}}
[debug] [2023-05-20T20:11:07.423Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-634722587603-us-central1/d737643b-efee-4b6e-bfec-ce2452bfe481.zip GoogleAccessId=service-634722587603%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1684615267&Signature=aRWEhmHKJkNiPdjWdnxo4jzGTChtYORVBfBTbhrztsEj%2FkR4e%2Fz%2FgXBYh6zifStcD4gF6aBbeoNW%2BFtD4FEqMNPxp5%2BDlPwajIdiRmnvaoVOiGZAgoaiAsC32ALP4SvZTBz%2BiV3ZZU4v11tGtDftiU4f%2FtV2lOeozAHmSYiszc2csOyqouAIS2f%2BT%2BCzXJXPI6jaaonbaT%2BshZIg1OWt3bALWL9a5igvbkXbhM1otOtx1h%2B2ZZbFE%2F%2F2BU%2BXf7fDuOInW5wlQ%2BX%2FdjmDBtnPrE6KFYViExJ1zk8mN%2BHrWcay7gwhtH3H41qnNJ0DudypbGAq%2FRzhNsmMW1VKEImyfg%3D%3D
[debug] [2023-05-20T20:11:07.423Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-634722587603-us-central1/d737643b-efee-4b6e-bfec-ce2452bfe481.zip [stream]
[debug] [2023-05-20T20:11:08.045Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-634722587603-us-central1/d737643b-efee-4b6e-bfec-ce2452bfe481.zip 200
[debug] [2023-05-20T20:11:08.045Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-634722587603-us-central1/d737643b-efee-4b6e-bfec-ce2452bfe481.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 18 function sendMail(us-central1)... 
[debug] [2023-05-20T20:11:08.058Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/bigo-3ac05/locations/us-central1/functions functionId=sendMail
[debug] [2023-05-20T20:11:08.058Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/bigo-3ac05/locations/us-central1/functions {"name":"projects/bigo-3ac05/locations/us-central1/functions/sendMail","buildConfig":{"runtime":"nodejs18","entryPoint":"sendMail","source":{"storageSource":{"bucket":"gcf-v2-uploads-634722587603-us-central1","object":"d737643b-efee-4b6e-bfec-ce2452bfe481.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"CLIENT_ID":"634722587603-9f59fufelircthr03nio07eesmrvkcli.apps.googleusercontent.com","CLIENT_SECRET":"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","REFRESH_TOKEN":"1//04IjX5TMdVTHpCgYIARAAGAQSNwF-L9Irtz8Tlx_10wbxJOY-Ntq5D6R0njKziNd72nVsZ1JDgmS-gfIOpI4O8TvDdoIuYS_14EQ","EMAIL":"atemproary@gmail.com","EMAIL2":"amankumar.spj410@gmail.com","FIREBASE_CONFIG":"{\"projectId\":\"bigo-3ac05\",\"storageBucket\":\"bigo-3ac05.appspot.com\"}","GCLOUD_PROJECT":"bigo-3ac05","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bigo-3ac05/locations/us-central1/services/sendMail"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"a2286b58a3b1fa51d153d7ca10f44031f920f46d"}}
[debug] [2023-05-20T20:11:10.864Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/bigo-3ac05/locations/us-central1/functions 400
[debug] [2023-05-20T20:11:10.865Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/bigo-3ac05/locations/us-central1/functions {"error":{"code":400,"message":"Could not create Cloud Run service sendmail. spec.template.spec.containers.resources.limits.cpu: Invalid value specified for cpu. For the specified value, maxScale may not exceed 10.\nConsider running your workload in a region with greater capacity, decreasing your requested cpu-per-instance, or requesting an increase in quota for this region if you are seeing sustained usage near this limit, see https://cloud.google.com/run/quotas. Your project may gain access to further scaling by adding billing information to your account.","status":"INVALID_ARGUMENT"}}
[warn] !  functions: HTTP Error: 400, Could not create Cloud Run service sendmail. spec.template.spec.containers.resources.limits.cpu: Invalid value specified for cpu. For the specified value, maxScale may not exceed 10.
Consider running your workload in a region with greater capacity, decreasing your requested cpu-per-instance, or requesting an increase in quota for this region if you are seeing sustained usage near this limit, see https://cloud.google.com/run/quotas. Your project may gain access to further scaling by adding billing information to your account. 
[warn] !  functions: failed to create function projects/bigo-3ac05/locations/us-central1/functions/sendMail 
[error] Failed to create function projects/bigo-3ac05/locations/us-central1/functions/sendMail
[debug] [2023-05-20T20:11:10.870Z] Total Function Deployment time: 2814
[debug] [2023-05-20T20:11:10.870Z] 1 Functions Deployed
[debug] [2023-05-20T20:11:10.871Z] 1 Functions Errored
[debug] [2023-05-20T20:11:10.871Z] 0 Function Deployments Aborted
[debug] [2023-05-20T20:11:10.871Z] Average Function Deployment time: 2812
[info] 
[info] Functions deploy had errors with the following functions:
	sendMail(us-central1)
[debug] [2023-05-20T20:11:10.872Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2023-05-20T20:11:10.873Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/bigo-3ac05/locations/us-central1/repositories/gcf-artifacts/packages/send_mail [none]
[debug] [2023-05-20T20:11:10.874Z] >>> [apiv2][query] GET https://us.gcr.io/v2/bigo-3ac05/gcf/us-central1/tags/list [none]
[debug] [2023-05-20T20:11:12.452Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/bigo-3ac05/locations/us-central1/repositories/gcf-artifacts/packages/send_mail 404
[debug] [2023-05-20T20:11:12.452Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/bigo-3ac05/locations/us-central1/repositories/gcf-artifacts/packages/send_mail {"error":{"code":404,"message":"Package \"projects/bigo-3ac05/locations/us-central1/repositories/gcf-artifacts/packages/send_mail\" was not found.","status":"NOT_FOUND"}}
[debug] [2023-05-20T20:11:14.172Z] <<< [apiv2][status] GET https://us.gcr.io/v2/bigo-3ac05/gcf/us-central1/tags/list 200
[debug] [2023-05-20T20:11:14.172Z] <<< [apiv2][body] GET https://us.gcr.io/v2/bigo-3ac05/gcf/us-central1/tags/list {"child":[],"manifest":{},"name":"bigo-3ac05/gcf/us-central1","tags":[]}
[debug] [2023-05-20T20:11:14.173Z] Could not find image for function projects/bigo-3ac05/locations/us-central1/functions/sendMail
[debug] [2023-05-20T20:11:14.173Z] Functions deploy failed.
[debug] [2023-05-20T20:11:14.173Z] {
  "endpoint": {
    "id": "sendMail",
    "project": "bigo-3ac05",
    "region": "us-central1",
    "entryPoint": "sendMail",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "CLIENT_ID": "634722587603-9f59fufelircthr03nio07eesmrvkcli.apps.googleusercontent.com",
      "CLIENT_SECRET": "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",
      "REFRESH_TOKEN": "1//04IjX5TMdVTHpCgYIARAAGAQSNwF-L9Irtz8Tlx_10wbxJOY-Ntq5D6R0njKziNd72nVsZ1JDgmS-gfIOpI4O8TvDdoIuYS_14EQ",
      "EMAIL": "atemproary@gmail.com",
      "EMAIL2": "amankumar.spj410@gmail.com",
      "FIREBASE_CONFIG": "{\"projectId\":\"bigo-3ac05\",\"storageBucket\":\"bigo-3ac05.appspot.com\"}",
      "GCLOUD_PROJECT": "bigo-3ac05",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/bigo-3ac05/locations/us-central1/services/sendMail"
    },
    "codebase": "default",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "a2286b58a3b1fa51d153d7ca10f44031f920f46d"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "context": {
      "function": "projects/bigo-3ac05/locations/us-central1/functions/sendMail"
    },
    "exit": 1,
    "message": "Failed to create function projects/bigo-3ac05/locations/us-central1/functions/sendMail",
    "original": {
      "name": "FirebaseError",
      "children": [],
      "context": {
        "body": {
          "error": {
            "code": 400,
            "message": "Could not create Cloud Run service sendmail. spec.template.spec.containers.resources.limits.cpu: Invalid value specified for cpu. For the specified value, maxScale may not exceed 10.\nConsider running your workload in a region with greater capacity, decreasing your requested cpu-per-instance, or requesting an increase in quota for this region if you are seeing sustained usage near this limit, see https://cloud.google.com/run/quotas. Your project may gain access to further scaling by adding billing information to your account.",
            "status": "INVALID_ARGUMENT"
          }
        },
        "response": {
          "statusCode": 400
        }
      },
      "exit": 1,
      "message": "HTTP Error: 400, Could not create Cloud Run service sendmail. spec.template.spec.containers.resources.limits.cpu: Invalid value specified for cpu. For the specified value, maxScale may not exceed 10.\nConsider running your workload in a region with greater capacity, decreasing your requested cpu-per-instance, or requesting an increase in quota for this region if you are seeing sustained usage near this limit, see https://cloud.google.com/run/quotas. Your project may gain access to further scaling by adding billing information to your account.",
      "status": 400
    },
    "status": 400
  }
}
[debug] [2023-05-20T20:11:14.174Z] Error: Failed to create function sendMail in region us-central1
    at C:\Users\amank\AppData\Roaming\nvm\v18.15.0\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:48:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.createV2Function (C:\Users\amank\AppData\Roaming\nvm\v18.15.0\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:271:32)
    at async Fabricator.createEndpoint (C:\Users\amank\AppData\Roaming\nvm\v18.15.0\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:132:13)
    at async handle (C:\Users\amank\AppData\Roaming\nvm\v18.15.0\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:85:17)
[error] 
[error] Error: There was an error deploying functions
